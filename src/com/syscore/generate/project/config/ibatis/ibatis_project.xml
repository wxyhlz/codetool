<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ProjectInfo">
	<typeAlias alias="projectInfo" type="com.syscore.generate.project.model.ProjectInfo" />
	<resultMap id="projectResult" class="com.syscore.generate.project.model.ProjectInfo">
		<!-- id -->
		<result property="id" column="id" />
		<!-- 项目编码 -->
		<result property="code" column="code" />
		<!-- 项目名称 -->
		<result property="name" column="name" />
		<!-- 数据库名 -->
		<result property="dbname" column="dbname" />
		<!-- 数据类型 -->
		<result property="dbtype" column="dbtype" />
		<!-- 地址和端口 -->
		<result property="ipport" column="ipport"/>
		<!-- 数据库用户 -->
		<result property="dbuser" column="dbuser" />
		<!-- 数据库密码 -->
		<result property="dbpassword" column="dbpassword" /> 
		<!-- 所有者 -->
		<result property="owner" column="owner"/>
		<!-- 登记时间 -->
		<result property="regtime" column="regtime"/>
		<!-- 有效标记 -->
		<result property="valid" column="valid" />
	</resultMap>

	<!-- 新增 -->
	<insert id="insert" parameterClass="projectInfo">
	    <![CDATA[
	    	insert into s_project(
				id,code,name,dbname,dbtype,ipport,dbuser,dbpassword,owner,regtime,valid
			)
			values(
				#id#,#code#,#name#,#dbname#,#dbtype#,#ipport#,#dbuser#,#dbpassword#,#owner#,#regtime#,#valid#
			)
		]]>
	</insert>

	<!-- 数据删除 -->
	<delete id="delete" parameterClass="projectInfo">
		<![CDATA[
			delete from s_project where id = #id#
		]]>
    </delete>

	<!-- 修改 -->
	<update id="update" parameterClass="projectInfo">
		<![CDATA[
			update s_project set
				code = #code#
				,name = #name#
				,dbtype = #dbtype#
				,ipport = #ipport#
				,dbname = #dbname#
				,dbuser = #dbuser#
				,dbpassword = #dbpassword# 
				,owner = #owner#
				,valid = #valid#
			where id = #id#
		]]>
	</update>

	<!-- 数据查询 -->
	<select id="selectByMap" parameterClass="map" resultMap="projectResult" >
		select * from s_project
		<dynamic prepend="where">
			<isNotEmpty  property="code" prepend="and">
      			code = #code#
			</isNotEmpty >
		</dynamic>
	</select>
	
	<select id="selectEntity" parameterClass="projectInfo" resultMap="projectResult" >
		select * from s_project
		<dynamic prepend="where">
			<isNotEmpty  property="id" prepend="and">
      			id = #id#
			</isNotEmpty >
		</dynamic>
	</select>
	
	

</sqlMap>
