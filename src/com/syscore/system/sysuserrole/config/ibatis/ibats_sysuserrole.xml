<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SysuserroleInfo">
	<typeAlias alias="sysuserroleInfo" type="com.syscore.system.sysuserrole.model.SysuserroleInfo" />
	<resultMap id="sysuserroleResult" class="com.syscore.system.sysuserrole.model.SysuserroleInfo">
		<!-- ID -->
		<result property="id" column="id" />
		<!-- 人员ID -->
		<result property="eid" column="eid" />
		<!-- 角色ID -->
		<result property="rid" column="rid" />
	</resultMap>

	<!-- 数据查询 -->
	<select id="selectByMap" parameterClass="map" resultMap="sysuserroleResult" >
		<![CDATA[
			select * from s_sysuserrole
			order by logTime desc
		]]>
	</select>

	<!-- 数据添加 -->
	<insert id="insert" parameterClass="sysuserroleInfo">
	    <![CDATA[
	    	insert into s_sysuserrole(
				id
				,eid
				,rid
			)
			values(
				#id#
				,#eid#
				,#rid#
			)
		]]>
	</insert>

	<!-- 数据删除 -->
	<delete id="delete" parameterClass="sysuserroleInfo">
		<![CDATA[
			delete from s_sysuserrole where id = #id#
		]]>
    </delete>

	<!-- 数据修改 -->
	<update id="update" parameterClass="sysuserroleInfo">
		<![CDATA[
			update s_sysuserrole set
				eid = #eid#
				,rid = #rid#
			where id = #id#
		]]>
	</update>

	<!-- 分页查询总记录数 -->
  <select id="selectPageCount" parameterClass="map" resultClass="Integer" >
		<![CDATA[
			select count(*) from s_sysuserrole
		]]>
	</select>

	<!-- 分页查询数据 -->
	<select id="selectPage" parameterClass="map" resultMap="sysuserroleResult" >
		select * from (
				select a.*,rownum row_num from (
						select * from s_sysuserrole t
					) a
			) b
		where b.row_num between $pageBegin$ and $pageEnd$
		order by eid
	</select>

</sqlMap>
