<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SysroleInfo">
	<typeAlias alias="sysroleInfo" type="com.syscore.system.sysrole.model.SysroleInfo" />
	<resultMap id="sysroleResult" class="com.syscore.system.sysrole.model.SysroleInfo">
		<!-- ID -->
		<result property="id" column="id" />
		<!-- 名称 -->
		<result property="name" column="name" />
		<!-- 默认 1；0 无效 ；1 有效 -->
		<result property="valid" column="valid" />
	</resultMap>

	<!-- 数据添加 -->
	<insert id="insert" parameterClass="sysroleInfo">
	    <![CDATA[	
	    	insert into s_sysrole(
				id
				,name
				,valid
			)
			values(
				#id#
				,#name#
				,#valid#
			)
		]]>
	</insert>

	<!-- 数据删除 -->
	<delete id="delete" parameterClass="sysroleInfo">
		<![CDATA[
			delete from s_sysrole where id = #id#
		]]>
    </delete>

	<!-- 数据修改 -->
	<update id="update" parameterClass="sysroleInfo">
		<![CDATA[
			update s_sysrole set
				id = #id#
				,name = #name#
				,valid = #valid#
			where id = #id#
		]]>
	</update>
	
	
	<!-- 数据查询 -->
	<select id="selectByMap" parameterClass="map" resultMap="sysroleResult" >
		<![CDATA[
			select * from s_sysrole
			order by name
		]]>
	</select>
	
	<!--获取T对象 -->
	<select id="selectEntity" parameterClass="Object" resultMap="sysroleResult">
		select * from s_sysrole
		<dynamic prepend="where">
			<isNotEmpty  property="name" prepend="and">
	              name = #name#
	        </isNotEmpty >
       	</dynamic>
	</select>

	<!-- 分页查询总记录数 -->
  	<select id="selectPageCount" parameterClass="map" resultClass="Integer" >
		<![CDATA[
			select count(*) from s_sysrole
		]]>
	</select>

	<!-- 分页查询数据 -->
	<select id="selectPage" parameterClass="map" resultMap="sysroleResult" >
		select * from (
				select a.*,rownum row_num from (
						select * from s_sysrole t
					) a
			) b
		where b.row_num between $pageBegin$ and $pageEnd$
		order by name
	</select>
	
</sqlMap>
